name: New

on:
  push:
    branches:
      - main
    tags:
      - '*'          
  pull_request:
    branches:
      - main        
  workflow_dispatch:

jobs:
  run-scheduled-task:
    runs-on: ubuntu-latest
    permissions:
      id-token: write
      contents: read
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
        
      - name: Run some scheduled task
        run: |
          echo "This is a scheduled run every 5 minutes."
          # Your actual commands can go here, like tests, builds, etc.


      - name: register-artifact-commit
        uses: cloudbees-io-gha/register-build-artifact@v3
        with:
          name: manavt-Docker-artifact
          url: https://hub.docker.com/repository/docker/hackers
          version: 1.0.0
          label: User Commit
          commit: 67acbdd2afcf8f44031f76e3e9530bee63b044ab
          repository-url: https://github.com/karthiknaveene/ideal-disco
          ref: main

      - name: register-artifact-default-commit
        uses: cloudbees-io-gha/register-build-artifact@v3
        with:
          name: test
          url: https://test
          version: 1.0.0
          label: Default commit
